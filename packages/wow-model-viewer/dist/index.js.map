{"version":3,"sources":["../src/constants.ts","../src/globals.ts","../src/AnimationDebugPanel.tsx","../src/WowModelViewer.tsx","../src/use-display-ids.ts"],"names":["useRef","useState","useEffect","jsxs","jsx","useCallback"],"mappings":"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","file":"index.js","sourcesContent":["/** Normalized slot name -> ZamModelViewer inventory type ID.\n *  Slots 1-10 are the same as equipment slots. Back, weapons, and ranged\n *  use the WoW InventoryType enum (16, 21, 22, 26) which the viewer needs\n *  to pick the correct CDN path and body position. */\nexport const VIEWER_SLOT_MAP: Record<string, number> = {\n  Head: 1,\n  Shoulder: 3,\n  Chest: 5,\n  Waist: 6,\n  Legs: 7,\n  Feet: 8,\n  Wrist: 9,\n  Hands: 10,\n  Back: 16,\n  'Main Hand': 21,\n  'Off Hand': 22,\n  Ranged: 26,\n}\n\n/** Race name -> ZamModelViewer race ID */\nexport const RACE_IDS: Record<string, number> = {\n  human: 1,\n  orc: 2,\n  dwarf: 3,\n  nightelf: 4,\n  undead: 5,\n  tauren: 6,\n  gnome: 7,\n  troll: 8,\n  bloodelf: 10,\n  draenei: 11,\n}\n\n/** Full WoW InventoryType enum as used by ZamModelViewer / WH.Wow.Item */\nexport const INVENTORY_TYPE = {\n  HEAD: 1,\n  NECK: 2,\n  SHOULDERS: 3,\n  SHIRT: 4,\n  CHEST: 5,\n  WAIST: 6,\n  LEGS: 7,\n  FEET: 8,\n  WRISTS: 9,\n  HANDS: 10,\n  FINGER: 11,\n  TRINKET: 12,\n  ONE_HAND: 13,\n  SHIELD: 14,\n  RANGED: 15,\n  BACK: 16,\n  TWO_HAND: 17,\n  BAG: 18,\n  TABARD: 19,\n  ROBE: 20,\n  MAIN_HAND: 21,\n  OFF_HAND: 22,\n  HELD_IN_OFF_HAND: 23,\n  PROJECTILE: 24,\n  THROWN: 25,\n  RANGED_RIGHT: 26,\n  QUIVER: 27,\n  RELIC: 28,\n} as const\n\n/** Slots that have no visual representation on the 3D model */\nexport const NOT_DISPLAYED_SLOTS = [2, 11, 12]\n","import { INVENTORY_TYPE } from './constants'\n\nexport function loadScript(src: string): Promise<void> {\n  const existing = document.querySelector(`script[src=\"${src}\"]`) as HTMLScriptElement | null\n  if (existing) {\n    if (existing.dataset.loaded === 'true') return Promise.resolve()\n    return new Promise((resolve, reject) => {\n      existing.addEventListener('load', () => resolve())\n      existing.addEventListener('error', () => reject(new Error(`Failed to load: ${src}`)))\n    })\n  }\n  return new Promise((resolve, reject) => {\n    const script = document.createElement('script')\n    script.src = src\n    script.onload = () => {\n      script.dataset.loaded = 'true'\n      resolve()\n    }\n    script.onerror = () => reject(new Error(`Failed to load script: ${src}`))\n    document.head.appendChild(script)\n  })\n}\n\nexport function setupWowheadGlobals(contentPath: string) {\n  window.CONTENT_PATH = contentPath\n  window.WOTLK_TO_RETAIL_DISPLAY_ID_API = undefined\n\n  if (!window.WH) {\n    const webp = { getImageExtension: () => '.webp' }\n    window.WH = {\n      debug: (...args: unknown[]) => console.log(args),\n      defaultAnimation: 'Walk',\n      WebP: webp,\n      Wow: {\n        Item: {\n          INVENTORY_TYPE_HEAD: INVENTORY_TYPE.HEAD,\n          INVENTORY_TYPE_NECK: INVENTORY_TYPE.NECK,\n          INVENTORY_TYPE_SHOULDERS: INVENTORY_TYPE.SHOULDERS,\n          INVENTORY_TYPE_SHIRT: INVENTORY_TYPE.SHIRT,\n          INVENTORY_TYPE_CHEST: INVENTORY_TYPE.CHEST,\n          INVENTORY_TYPE_WAIST: INVENTORY_TYPE.WAIST,\n          INVENTORY_TYPE_LEGS: INVENTORY_TYPE.LEGS,\n          INVENTORY_TYPE_FEET: INVENTORY_TYPE.FEET,\n          INVENTORY_TYPE_WRISTS: INVENTORY_TYPE.WRISTS,\n          INVENTORY_TYPE_HANDS: INVENTORY_TYPE.HANDS,\n          INVENTORY_TYPE_FINGER: INVENTORY_TYPE.FINGER,\n          INVENTORY_TYPE_TRINKET: INVENTORY_TYPE.TRINKET,\n          INVENTORY_TYPE_ONE_HAND: INVENTORY_TYPE.ONE_HAND,\n          INVENTORY_TYPE_SHIELD: INVENTORY_TYPE.SHIELD,\n          INVENTORY_TYPE_RANGED: INVENTORY_TYPE.RANGED,\n          INVENTORY_TYPE_BACK: INVENTORY_TYPE.BACK,\n          INVENTORY_TYPE_TWO_HAND: INVENTORY_TYPE.TWO_HAND,\n          INVENTORY_TYPE_BAG: INVENTORY_TYPE.BAG,\n          INVENTORY_TYPE_TABARD: INVENTORY_TYPE.TABARD,\n          INVENTORY_TYPE_ROBE: INVENTORY_TYPE.ROBE,\n          INVENTORY_TYPE_MAIN_HAND: INVENTORY_TYPE.MAIN_HAND,\n          INVENTORY_TYPE_OFF_HAND: INVENTORY_TYPE.OFF_HAND,\n          INVENTORY_TYPE_HELD_IN_OFF_HAND: INVENTORY_TYPE.HELD_IN_OFF_HAND,\n          INVENTORY_TYPE_PROJECTILE: INVENTORY_TYPE.PROJECTILE,\n          INVENTORY_TYPE_THROWN: INVENTORY_TYPE.THROWN,\n          INVENTORY_TYPE_RANGED_RIGHT: INVENTORY_TYPE.RANGED_RIGHT,\n          INVENTORY_TYPE_QUIVER: INVENTORY_TYPE.QUIVER,\n          INVENTORY_TYPE_RELIC: INVENTORY_TYPE.RELIC,\n          INVENTORY_TYPE_PROFESSION_TOOL: 29,\n          INVENTORY_TYPE_PROFESSION_ACCESSORY: 30,\n        },\n      },\n    }\n  }\n}\n\nexport async function ensureGlobals(contentPath: string) {\n  if (typeof window.ZamModelViewer !== 'undefined') return\n\n  setupWowheadGlobals(contentPath)\n\n  await loadScript('https://code.jquery.com/jquery-3.5.1.min.js')\n  await loadScript(`${contentPath}viewer/viewer.min.js`)\n}\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport type { ViewerInstance } from './types'\n\nconst styles = {\n  container: {\n    position: 'absolute' as const,\n    bottom: 8,\n    left: 8,\n    zIndex: 10,\n    display: 'flex',\n    flexDirection: 'column' as const,\n    gap: 4,\n    borderRadius: 4,\n    backgroundColor: 'rgba(0, 0, 0, 0.8)',\n    padding: 8,\n    fontSize: 12,\n    color: 'white',\n  },\n  loading: {\n    position: 'absolute' as const,\n    bottom: 8,\n    left: 8,\n    borderRadius: 4,\n    backgroundColor: 'rgba(0, 0, 0, 0.8)',\n    padding: '4px 8px',\n    fontSize: 12,\n    color: 'white',\n  },\n  title: {\n    fontWeight: 'bold' as const,\n    color: '#facc15',\n  },\n  select: {\n    borderRadius: 4,\n    backgroundColor: '#1f2937',\n    padding: '2px 4px',\n    fontSize: 12,\n    color: 'white',\n    border: 'none',\n  },\n  button: {\n    borderRadius: 4,\n    backgroundColor: '#374151',\n    padding: '2px 4px',\n    border: 'none',\n    color: 'white',\n    cursor: 'pointer',\n    fontSize: 12,\n  },\n  info: {\n    color: '#9ca3af',\n  },\n}\n\nexport function AnimationDebugPanel({ viewer }: { viewer: ViewerInstance }) {\n  const [animations, setAnimations] = useState<string[]>([])\n  const [currentAnim, setCurrentAnim] = useState('Stand')\n  const [paused, setPaused] = useState(false)\n  const blendsZeroed = useRef(false)\n\n  const getActor = useCallback(() => {\n    return viewer?.renderer?.actors?.[0]\n  }, [viewer])\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const getSeqs = useCallback((): any[] | null => {\n    const seqs = getActor()?.c?.k?.x\n    return Array.isArray(seqs) ? seqs : null\n  }, [getActor])\n\n  useEffect(() => {\n    let attempts = 0\n    const interval = setInterval(() => {\n      attempts++\n      const seqs = getSeqs()\n      if (seqs && seqs.length > 0 && seqs[0]?.l) {\n        setAnimations([...new Set(seqs.map((e: { l: string }) => e.l))])\n        clearInterval(interval)\n      }\n      if (attempts > 40) clearInterval(interval)\n    }, 500)\n    return () => clearInterval(interval)\n  }, [getSeqs])\n\n  const handleAnimChange = (name: string) => {\n    setCurrentAnim(name)\n    setPaused(false)\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const v = viewer as any\n    const renderer = v?.renderer\n\n    // Zero out all blend/transition times once so looping is seamless\n    if (!blendsZeroed.current) {\n      blendsZeroed.current = true\n      if (renderer) renderer.crossFadeDuration = 0\n      const seqs = getSeqs()\n      if (seqs) {\n        for (const seq of seqs) {\n          seq.d = 0 // blend time field 1\n          seq.j = 0 // blend time field 2\n        }\n      }\n    }\n\n    // Set as default animation so the viewer loops it naturally\n    if (window.WH) {\n      ;(window.WH as Record<string, unknown>).defaultAnimation = name\n    }\n    v?.method?.('setAnimation', name)\n  }\n\n  const togglePause = () => {\n    const next = !paused\n    setPaused(next)\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const v = viewer as any\n    v?.method?.('setAnimPaused', next)\n  }\n\n  if (animations.length === 0) {\n    return <div style={styles.loading}>Loading animations...</div>\n  }\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.title}>Animation Debug</div>\n      <select\n        value={currentAnim}\n        onChange={(e) => handleAnimChange(e.target.value)}\n        style={styles.select}\n      >\n        {animations.map((a) => (\n          <option key={a} value={a}>\n            {a}\n          </option>\n        ))}\n      </select>\n      <button onClick={togglePause} style={styles.button}>\n        {paused ? '\\u25b6 Play' : '\\u23f8 Pause'}\n      </button>\n      <div style={styles.info}>{animations.length} animations available</div>\n    </div>\n  )\n}\n","import { useEffect, useRef, useState } from 'react'\nimport { NOT_DISPLAYED_SLOTS } from './constants'\nimport { RACE_IDS } from './constants'\nimport { ensureGlobals } from './globals'\nimport { AnimationDebugPanel } from './AnimationDebugPanel'\nimport type { CameraState, ViewerInstance, WowModelViewerProps } from './types'\n\nfunction resolveRaceId(race: string | number): number {\n  if (typeof race === 'number') return race\n  return RACE_IDS[race] ?? 1\n}\n\nexport function WowModelViewer({\n  contentPath,\n  race = 'human',\n  gender = 0,\n  items = [],\n  aspect = 3 / 4,\n  animation = 'Walk',\n  debug = false,\n  className,\n  dataEnv = 'classic',\n  onReady,\n  onError,\n}: WowModelViewerProps) {\n  const containerRef = useRef<HTMLDivElement>(null)\n  const viewerRef = useRef<ViewerInstance | null>(null)\n  const idRef = useRef(`model-viewer-${Math.random().toString(36).slice(2, 9)}`)\n  const cameraRef = useRef<CameraState | null>(null)\n  const animationRef = useRef<string | null>(null)\n  const [viewerReady, setViewerReady] = useState(false)\n\n  const raceId = resolveRaceId(race)\n  const itemsKey = JSON.stringify(items)\n\n  useEffect(() => {\n    if (!containerRef.current) return\n\n    const container = containerRef.current\n    container.id = idRef.current\n\n    let cancelled = false\n    let cameraPollId: ReturnType<typeof setInterval> | null = null\n    setViewerReady(false)\n\n    const initViewer = async () => {\n      try {\n        await ensureGlobals(contentPath)\n        if (cancelled) return\n\n        const raceGenderId = raceId * 2 - 1 + gender\n        const parsedItems: [number, number][] = JSON.parse(itemsKey)\n        const filteredItems = parsedItems.filter(([slot]) => !NOT_DISPLAYED_SLOTS.includes(slot))\n\n        const config: Record<string, unknown> = {\n          type: 2,\n          contentPath,\n          container: window.jQuery(`#${idRef.current}`),\n          aspect,\n          dataEnv,\n          env: dataEnv,\n          gameDataEnv: dataEnv,\n          hd: false,\n          items: filteredItems,\n          models: {\n            id: raceGenderId,\n            type: 16, // CHARACTER\n          },\n        }\n\n        const viewer = await new window.ZamModelViewer(config)\n        if (cancelled) return\n\n        viewerRef.current = viewer\n        setViewerReady(true)\n        onReady?.()\n\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const v = viewer as any\n\n        // Continuously poll camera state so cameraRef always has\n        // the latest values regardless of interaction type or timing\n        cameraPollId = setInterval(() => {\n          if (v.renderer) {\n            cameraRef.current = {\n              azimuth: v.renderer.azimuth,\n              zenith: v.renderer.zenith,\n              distance: v.renderer.distance,\n              zoomTarget: v.renderer.zoom?.target ?? 1,\n              zoomCurrent: v.renderer.zoom?.current ?? 1,\n            }\n          }\n        }, 250)\n\n        // Wait for model to fully load, then zero blend times and restore state\n        const waitForModel = setInterval(() => {\n          if (cancelled) {\n            clearInterval(waitForModel)\n            return\n          }\n          const seqs = v.renderer?.actors?.[0]?.c?.k?.x\n          if (Array.isArray(seqs) && seqs.length > 0 && seqs[0]?.l) {\n            clearInterval(waitForModel)\n            if (v.renderer) v.renderer.crossFadeDuration = 0\n            for (const seq of seqs) {\n              seq.d = 0\n              seq.j = 0\n            }\n\n            // Restore animation, falling back to configured default\n            const anim = animationRef.current || animation\n            if (window.WH) {\n              ;(window.WH as Record<string, unknown>).defaultAnimation = anim\n            }\n            v.method?.('setAnimation', anim)\n\n            // Restore camera orientation and zoom from previous instance\n            if (cameraRef.current && v.renderer) {\n              const saved = { ...cameraRef.current }\n              v.renderer.azimuth = saved.azimuth\n              v.renderer.zenith = saved.zenith\n              v.renderer.distance = saved.distance\n              if (v.renderer.zoom) {\n                v.renderer.zoom.target = saved.zoomTarget\n                v.renderer.zoom.current = saved.zoomCurrent\n              }\n            }\n          }\n        }, 200)\n      } catch (err) {\n        const error = err instanceof Error ? err : new Error(String(err))\n        console.error('Model viewer init error:', error)\n        onError?.(error)\n      }\n    }\n\n    initViewer()\n\n    return () => {\n      cancelled = true\n      if (cameraPollId) clearInterval(cameraPollId)\n      const defaultAnim = window.WH?.defaultAnimation\n      if (typeof defaultAnim === 'string') {\n        animationRef.current = defaultAnim\n      }\n      viewerRef.current?.destroy?.()\n      container.innerHTML = ''\n      viewerRef.current = null\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [raceId, gender, itemsKey, contentPath, dataEnv, aspect])\n\n  return (\n    <div style={{ position: 'relative', overflow: 'hidden', width: '100%', height: '100%' }}>\n      <div\n        ref={containerRef}\n        className={className}\n        style={{ width: '100%', height: '100%' }}\n      />\n      {debug && viewerReady && viewerRef.current && (\n        <AnimationDebugPanel viewer={viewerRef.current} />\n      )}\n    </div>\n  )\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport type { DisplayInfo, DisplayIdFetchOptions } from './types'\n\nconst cache = new Map<string, Map<number, DisplayInfo>>()\nconst pending = new Map<string, Map<number, Promise<DisplayInfo>>>()\n\nfunction getCache(baseUrl: string) {\n  let c = cache.get(baseUrl)\n  if (!c) {\n    c = new Map()\n    cache.set(baseUrl, c)\n  }\n  return c\n}\n\nfunction getPending(baseUrl: string) {\n  let p = pending.get(baseUrl)\n  if (!p) {\n    p = new Map()\n    pending.set(baseUrl, p)\n  }\n  return p\n}\n\n/** Fetch the Wowhead display info for a single item. Caches results. */\nexport async function fetchDisplayInfo(\n  itemId: number,\n  options?: DisplayIdFetchOptions\n): Promise<DisplayInfo> {\n  const baseUrl = options?.baseUrl ?? '/api/wowhead-display-id'\n  const c = getCache(baseUrl)\n  const p = getPending(baseUrl)\n\n  const cached = c.get(itemId)\n  if (cached !== undefined) return cached\n\n  const inflight = p.get(itemId)\n  if (inflight) return inflight\n\n  const promise = fetch(`${baseUrl}/${itemId}`)\n    .then((res) => res.json())\n    .then((data: { displayId: number; slotId: number }) => {\n      const info: DisplayInfo = {\n        displayId: data.displayId || 0,\n        slotId: data.slotId || 0,\n      }\n      c.set(itemId, info)\n      p.delete(itemId)\n      return info\n    })\n    .catch(() => {\n      p.delete(itemId)\n      return { displayId: 0, slotId: 0 }\n    })\n\n  p.set(itemId, promise)\n  return promise\n}\n\n/** Resolve display info for a batch of item IDs. */\nasync function fetchBatch(\n  itemIds: number[],\n  options?: DisplayIdFetchOptions\n): Promise<Record<number, DisplayInfo>> {\n  const results = await Promise.all(\n    itemIds.map(async (id) => [id, await fetchDisplayInfo(id, options)] as const)\n  )\n  return Object.fromEntries(results)\n}\n\n/**\n * Hook that resolves Wowhead display info for a set of item IDs.\n * Returns a map of itemId -> DisplayInfo, updating as results arrive.\n */\nexport function useDisplayIds(\n  itemIds: number[],\n  options?: DisplayIdFetchOptions\n) {\n  const [displayInfos, setDisplayInfos] = useState<Record<number, DisplayInfo>>({})\n  const baseUrl = options?.baseUrl ?? '/api/wowhead-display-id'\n\n  const getDisplayInfo = useCallback(\n    (itemId: number): DisplayInfo | null => displayInfos[itemId] || null,\n    [displayInfos]\n  )\n\n  useEffect(() => {\n    if (itemIds.length === 0) return\n\n    let cancelled = false\n    const c = getCache(baseUrl)\n\n    // Return cached results immediately\n    const known: Record<number, DisplayInfo> = {}\n    const toFetch: number[] = []\n    for (const id of itemIds) {\n      const cached = c.get(id)\n      if (cached !== undefined) {\n        known[id] = cached\n      } else {\n        toFetch.push(id)\n      }\n    }\n\n    if (Object.keys(known).length > 0) {\n      setDisplayInfos((prev) => ({ ...prev, ...known }))\n    }\n\n    if (toFetch.length === 0) return\n\n    fetchBatch(toFetch, options).then((results) => {\n      if (!cancelled) {\n        setDisplayInfos((prev) => ({ ...prev, ...results }))\n      }\n    })\n\n    return () => {\n      cancelled = true\n    }\n  }, [itemIds.join(','), baseUrl]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  return { getDisplayInfo, displayInfos }\n}\n"]}